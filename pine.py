a='''Eligibility Criteria for Startup Funding and Related Information
Introduction

Startup funding refers to the financial capital raised by new and early-stage companies to develop products, expand operations, enter markets, and scale their business. Funding can come from multiple sources such as government schemes, angel investors, venture capital firms, private equity funds, accelerators, and corporate investors. Each funding source has specific eligibility criteria, expectations, and evaluation parameters. Understanding these criteria is critical for startups seeking capital and for investors assessing opportunities.

General Eligibility Criteria for Startups

Most funding bodies evaluate startups based on a common set of foundational criteria.

Legal Registration and Recognition

A startup must be legally registered as a business entity. This typically includes:

Private Limited Company

Limited Liability Partnership (LLP)

Registered Partnership Firm

In many countries, government-backed funds require official startup recognition. For example, in India, startups must be recognized by the Department for Promotion of Industry and Internal Trade (DPIIT). The company should have a valid incorporation certificate and compliance with local corporate laws.

Age of the Startup

Most funding programs define startups based on age. Common requirements include:

Startup should be less than 7‚Äì10 years old

For biotechnology or deep-tech startups, the age limit may extend to 10‚Äì15 years

Government seed funds and grants often restrict eligibility to startups that are less than 2‚Äì5 years old.

Innovation and Scalability

Funding agencies prioritize startups that demonstrate:

Innovation in product, service, or business model

Use of technology or intellectual property

Scalability across markets or regions

Startups offering routine services without differentiation generally find it difficult to qualify for venture funding.

Revenue and Turnover Limits

Certain funding programs impose revenue limits. For example:

Annual turnover should not exceed a specific threshold (e.g., INR 100 crore in India)

Early-stage grants often require minimal or no revenue

Late-stage funding, however, expects proven revenue traction.

Eligibility for Government Startup Funding and Grants

Government funding focuses on economic development, innovation, and job creation.

Core Eligibility Requirements

To qualify for government startup funding:

Startup must be officially recognized by a government authority

Business should be innovation-driven

Startup should not be formed by splitting or restructuring an existing business

The startup should be working toward commercialization of a product or service

Stage-Based Eligibility

Government schemes are often stage-specific:

Pre-seed Stage

Idea or prototype stage

Proof of concept not yet validated

Limited or no revenue

Seed Stage

Prototype developed

Early market validation

Initial customers or pilot projects

Growth Stage

Product-market fit achieved

Revenue generation

Expansion plans

Sector-Based Eligibility

Some government schemes are sector-focused, supporting:

Technology and IT

Biotechnology and healthcare

Renewable energy and climate tech

Agriculture and food processing

Manufacturing and defense

Use of Funds Restrictions

Government funding usually mandates strict usage of funds:

Product development

Prototype creation

Market entry

Testing and trials

Hiring technical talent

Funds cannot typically be used for:

Debt repayment

Real estate purchases

Personal expenses of founders

Eligibility Criteria for Angel Investment

Angel investors are individuals who invest their personal funds in startups.

Startup Expectations

Angels typically look for:

Strong founding team

Clear problem-solution fit

Large market opportunity

Early traction or proof of demand

Formal profitability is not required, but clarity of vision is critical.

Founder-Related Criteria

Angel investors strongly evaluate:

Founder background and expertise

Commitment to the startup

Ability to execute and pivot

Startups with solo founders may face more scrutiny than teams.

Eligibility Criteria for Venture Capital Funding

Venture capital firms invest institutional money and have stricter criteria.

Business Model Viability

VCs assess:

Revenue model clarity

Unit economics

Gross margins

Customer acquisition strategy

Startups must show potential for 10x‚Äì100x returns.

Traction and Metrics

Key metrics evaluated include:

Monthly recurring revenue (MRR)

Customer growth rate

Retention rate

Burn rate and runway

Early-stage VCs may accept limited traction, but growth-stage VCs require strong financial indicators.

Market Size Requirement

Most VCs require:

Total Addressable Market (TAM) in billions

Global or regional scalability

Niche markets with limited scale are less attractive.

Eligibility for Accelerator and Incubator Programs

Accelerators provide funding, mentorship, and resources.

Typical Requirements

Early-stage startup (idea to seed stage)

Coachable founders

Willingness to give equity (typically 5‚Äì10%)

Commitment to full-time participation

Accelerators prioritize speed, experimentation, and learning over immediate revenue.

Eligibility Criteria for Bank Loans and Debt Funding

Debt funding differs significantly from equity funding.

Financial Stability

Banks require:

Revenue history

Cash flow stability

Collateral or guarantees

Good credit score of founders

Early-stage startups usually struggle to qualify without government-backed loan guarantees.

Eligibility Criteria for Corporate and Strategic Funding

Corporates invest for strategic alignment rather than pure financial return.

Strategic Fit

Startups must:

Align with corporate business goals

Offer complementary technology or products

Enable innovation or cost reduction for the corporate

Proof-of-concept or pilot projects are often required before funding.

Common Documents Required for Startup Funding

Most funding sources require:

Pitch deck

Business plan

Financial projections

Founder profiles

Incorporation documents

Cap table

Bank statements

Government grants may additionally require:

Utilization plan

Milestone-based progress reports

Reasons for Startup Funding Rejection

Common reasons include:

Weak founding team

Unclear revenue model

Limited market size

Poor financial planning

High burn rate without traction

Lack of differentiation

Conclusion

Eligibility for startup funding depends on multiple factors including stage, sector, geography, business model, and funding source. While early-stage funding prioritizes innovation and vision, later-stage funding demands strong financial performance and scalability. Understanding and aligning with these eligibility criteria significantly increases a startup‚Äôs chances of securing funding.'''


b='''Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 1 of 14
Guidelines for Startup India Seed Fund Scheme
Guidelines for Startup India Seed Fund Scheme
1. Introduction
Easy availability of capital is essential for entrepreneurs at the early stages of
growth of an enterprise. Funding from angel investors and venture capital firms
becomes available to startups only after the proof of concept has been provided.
Similarly, banks provide loans only to asset-backed applicants. It is essential to
provide seed funding to startups with an innovative idea to conduct proof of
concept trials.
Startup India Seed Fund Scheme (SISFS) aims to provide financial assistance to
startups for proof of concept, prototype development, product trials, market entry
and commercialization. This would enable these startups to graduate to a level
where they will be able to raise investments from angel investors or venture
capitalists, or seek loans from commercial banks or financial institutions.
The Seed Fund will be disbursed to eligible startups through eligible incubators
across India.
2. The Requirement
The Indian startup ecosystem suffers from capital inadequacy in the seed and
‚ÄòProof of Concept‚Äô development stage. The capital required at this stage often
presents a make or break situation for startups with good business ideas. Many
innovative business ideas fail to take off due to the absence of this critical capital
required at an early stage for proof of concept, prototype development, product
trials, market entry and commercialization. Seed Fund offered to such promising
cases can have a multiplier effect in validation of business ideas of many
startups, leading to employment generation.
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 2 of 14
Guidelines for Startup India Seed Fund Scheme
3. Eligibility Criteria:
3.1 Eligibility Criteria for Startups
The eligibility criteria for a startup to apply under the Startup India Seed Fund
Scheme shall be as follows:
1. A startup, recognized by DPIIT, incorporated not more than 2 years ago at
the time of application
2. Startup must have a business idea to develop a product or a service with
market fit, viable commercialization, and scope of scaling
3. Startup should be using technology in its core product or service, or
business model, or distribution model, or methodology to solve the
problem being targeted
4. Preference would be given to startups creating innovative solutions in
sectors such as social impact, waste management, water management,
financial inclusion, education, agriculture, food processing, biotechnology,
healthcare, energy, mobility, defence, space, railways, oil and gas,
textiles, etc.
5. Startup should not have received more than Rs 10 lakh of monetary
support under any other Central or State Government scheme. This does
not include prize money from competitions and grand challenges,
subsidized working space, founder monthly allowance, access to labs, or
access to prototyping facility
6. Shareholding by Indian promoters in the startup should be at least 51% at
the time of application to incubator for the scheme, as per Companies Act,
2013 and SEBI (ICDR) Regulations, 2018
7. Any startup will not receive seed support more than once each as per
provisions of para 8.1 (i) and 8.1 (ii) respectively
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 3 of 14
Guidelines for Startup India Seed Fund Scheme
3.2 Eligibility Criteria for Incubators
The eligibility criteria for an incubator to apply in the Startup India Seed Fund
scheme are as follows:
1. Incubator must be a legal entity:
a) A society registered under the Societies Registration Act 1860, or
b) A Trust registered under the Indian Trusts Act 1882, or
c)A Private Limited company registered under the Companies Act 1956 or
the Companies Act 2013, or
d) A statutory body created through an Act of legislature
2. Incubator should be operational for at least two years on the date of
application to the scheme
3. Incubator must have facilities to seat at least 25 individuals
4. Incubator must have at least 5 startups undergoing incubation physically on
the date of application
5. Incubator must have a full-time Chief Executive Officer, experienced in
business development and entrepreneurship, supported by a capable team
responsible for mentoring startups in testing and validating ideas, as well as
in finance, legal and human resources functions
6. Incubator should not be disbursing seed fund to incubatees using funding
from any third-party private entity
7. Incubator must have been assisted by Central/State Government(s)
8. In case the incubator has not been assisted by Central or State
Government(s):
a) Incubator must be operational for at least three years
b) Must have at least 10 separate startups undergoing incubation in the
incubator physically on the date of application
c) Must present audited annual reports for the last 2 years
9. Any additional criteria as may be decided by the Experts Advisory
Committee (EAC).
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 4 of 14
Guidelines for Startup India Seed Fund Scheme
4. Experts Advisory Committee (EAC):
An Experts Advisory Committee (EAC) will be constituted by DPIIT, which will be
responsible for the overall execution and monitoring of the Startup India Seed
Fund Scheme. The EAC will evaluate and select incubators for allotment of Seed
Funds, monitor progress, and take all necessary measures for efficient utilization
of funds towards fulfilment of objectives of Startup India Seed Fund Scheme.
The Experts Advisory Committee (EAC) will comprise of the following members:
1. Chairman, an individual of eminence
2. Financial Advisor, DPIIT or his representative
3. Additional Secretary/ Joint Secretary/ Director/ Deputy Secretary, DPIIT
(Convener)
4. Representative of Department of Biotechnology (DBT)
5. Representative of Department of Science & Technology (DST)
6. Representative of Ministry of Electronics and Information Technology
(MeiTY)
7. Representative of Indian Council of Agricultural Research (ICAR)
8. Representative of NITI Aayog
9. At least three expert members nominated by Secretary, DPIIT from the
startup ecosystem, investors, experts in the domain of R&D, technology
development and commercialization, entrepreneurship and other relevant
domains.
5. Guidelines for Assistance to Incubators
5.1 Experts Advisory Committee (EAC) shall evaluate incubators for grant
assistance. A Grant of up to Rs. 5 (five) crore would be provided to a selected
incubator in milestone-based three (or) more installments. The exact quantum
of grant and instalments for each incubator will be decided by the Experts
Advisory Committee (EAC) based on its evaluation
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 5 of 14
Guidelines for Startup India Seed Fund Scheme
5.2 Incubators shall use the grant only for disbursal to eligible startups and shall not
use the grant for facility creation or any other expenses
5.2 A component of Management Fee @ 5% of Seed Fund grant to the incubator
will be provisioned (i.e. if an incubator is granted Rs. 1 crore of Seed Fund, then
by including management fee @ 5%, the total assistance would be Rs. 1.050
crore)
5.3 The Management Fee provisioned for incubators shall not be used by the
incubator for facility creation or any other administrative expenses. The
Management Fee will be utilized for administrative expenditure, selection and
due diligence of startups, and monitoring of progress of beneficiary startups
5.4 Installments shall be released to incubators upon submission of proofs of
achievement of milestones as decided by EAC. Proportionate Management fee
shall also be released with each installment
5.5 The quantum of first installment may be up to 40% of total approved
commitment. When the cash-in-hand of the incubator goes below 10% of the
total commitment by EAC, the Incubator may request for the next installment,
which shall be released to incubator within 30 days of submission of proof of
achievement of milestones
5.6 The grant should be utilized fully by the incubator within a period of three years
from the date of receipt of the first installment of funds.
5.7 If the Incubator has not utilized at least 50% of the total commitment within the
first 2 years, then the Incubator will not be eligible for any further drawdowns. It
will return all unutilized funds along with interest.
5.8 Interest earned on all unutilized funds available with incubators shall be taken
into account and adjusted at the time of next release.
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 6 of 14
Guidelines for Startup India Seed Fund Scheme
5.9 The financing of beneficiaries will be done with efficiency and care. Selected
incubators would be responsible for proper management and disbursement of
the Seed Fund
5.10 Selected incubator shall maintain a transparent process of selection,
monitoring, and disbursement mechanism for the fund. Seed Fund would be
disbursed to selected startups after due diligence by the incubator
5.11 The incubators shall be responsible for providing physical infrastructure to the
selected startups for regular functioning, support for testing and validating
ideas, mentoring for prototype or product development or commercialization,
and developing capacities in finance, human resources, legal compliances, and
other functions. They are also expected to provide networking with investors
and opportunities for showcasing in various national and international events. If
the selected startup does not want to utilize the physical infrastructure of the
incubator, the incubator shall offer all other resources and services to the
startup
5.12 A startup selected by an incubator for assistance under this scheme shall not be
charged any fees
6. Selection of Incubators
6.1 Online Applications will be invited from incubators across India to participate in
the scheme on https://www.startupindia.gov.in or any other platform specifically
designated for the purpose.
Incubators shall be selected on the basis of the following parameters:
a. Fulfillment of eligibility criteria
b. Quality of the team of Incubator
c. Available infrastructure, testing labs etc.
d. Composition of ISMC (as defined in para 7)
e. Incubation support provided by incubator in last three years:
ÔÇ∑ No. of startups incubated
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 7 of 14
Guidelines for Startup India Seed Fund Scheme
ÔÇ∑ No. of startups graduated, i.e. progressed from one stage of
business development cycle to the next
ÔÇ∑ No. of startups that raised follow on investments
ÔÇ∑ No. of startups that crossed a revenue of Rs 1 Cr in last 1 year
ÔÇ∑ 2-year survival rate of startups from the date of joining incubator
f. Funding support extended to incubatees in last three years:
ÔÇ∑ Investment agreements signed between incubator and startups
ÔÇ∑ No. of startups invested in
ÔÇ∑ Total corpus allocated to incubatees
ÔÇ∑ Total investments raised by incubatees from external sources
g. Mentoring provided to incubatees in last three years:
ÔÇ∑ No. of mentors hired
ÔÇ∑ Average mentoring hours allocated per startup per month
ÔÇ∑ No. of IP (patents, copyrights, designs, and trademarks)
registered by incubatees
h. Other support extended to incubatees in last three years:
ÔÇ∑ Industry/Corporate connects
ÔÇ∑ Events held for stakeholder engagements
ÔÇ∑ Participation in other events
i. Number of startups that the incubator intends to support
j. Quantum of funds applied for, along with fund deployment plan with
timelines
k. Any other relevant parameters that decided by the EAC
6.2 The Call for Applications for incubators will be open online throughout the year
6.3 Experts Advisory Committee (EAC) will convene at least quarterly to:
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 8 of 14
Guidelines for Startup India Seed Fund Scheme
1. Evaluate the applications received during the period
2. Select incubators for funds under the Scheme
3. Decide the total amount of fund and number of installments in which it is
to be allocated to each incubator
4. Specify milestones to be achieved by each incubator for release of
installments
6.4 EAC shall also monitor progress of incubators against sanctioned funds under
the Scheme and take further actions as may be required
6.5 EAC may lay down improved guidelines for selection of incubators under the
scheme from time to time
7. Selection of Startups
7.1 Each of the incubators applying for the Startup India Seed Fund Scheme will
constitute a committee called the Incubator Seed Management Committee
(ISMC), consisting of experts who can evaluate and select startups for seed
support. The composition of ISMC would be as follows:
i. Nominee of Incubator (Chairman)
ii. Representative from State Government‚Äôs Startup Nodal Team
iii. Representative of a Venture Capital Fund or Angel Network
iv. A domain expert from Industry
v. A domain expert from academia
vi. Two successful Entrepreneurs
vii. Any other relevant Stakeholder
The final composition and members of ISMC of each incubator shall be approved
by EAC and will be a critical parameter in selection of incubators
7.2 The startups shall be selected through an open, transparent and fair process,
comprising, inter-alia:
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 9 of 14
Guidelines for Startup India Seed Fund Scheme
i. An online call for applications shall be hosted on an ongoing basis on the
Startup India portal
ii. Applicants can apply for seed fund to any three incubators selected as
disbursing partners for this scheme in order of their preference
iii. All applications received will be shared online with respective incubators
for further evaluation
iv. The applicant may be asked to submit details on team profile, problem
statement, product/service overview, business model, customer profile,
market size, quantum of funds needed, projected utilization plan for funds,
etc.
i. The incubators shall shortlist applicants as per eligibility criteria given in
para 3.1.
v. Eligible applications will be evaluated by ISMC using the following
criteria:
Criteria Details
Weightage
(%)
1
Is there a
need for this
Idea?
Market size, what market gap is it
filling, does it solve a real-world
problem?
p
2 Feasibility
Feasibility and reasonability of the
technical claims, methodology
used/ to be used for PoC and
validation, roadmap for product
development
q
3
Potential
Impact
Customer demographic & the
technology‚Äôs effect on these,
national importance (if any)
r
4 Novelty
USP of the technology, associated
IP
s
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 10 of 14
Guidelines for Startup India Seed Fund Scheme
5 Team
Strength of the team, Technical and
business expertise
t
6
Fund
Utilization
Plan
Roadmap of money utilization u
7
Additional
Parameters
Any additional parameters
considered appropriate by incubator
v
8 Presentation Overall assessment w
100%
Weightages for criteria (p, q, r, s, t, u, v, w) may be assigned by each
incubator differently
vi. Incubator may shortlist applicants based on their evaluation for a
presentation before ISMC
vii. ISMC shall evaluate applicants based on their submissions and
presentations and select startups for Seed Fund within 45 days of receipt
of application
viii. All incubators shall provide information about progress of evaluation of
startups real-time to Startup India portal
ix. Selected startups shall receive seed funding under the respective
incubator that selects them as beneficiaries as per their preference
shared during application (for example, if incubators at Preference 1 and
Preference 2 both select a startup, the funding shall be given by
Preference 1 incubator. If Preference 1 incubator rejects and Preference
2 incubator selects, the funding shall be given by incubator at Preference
2, and so on.)
x. All applicants will be able to track the progress of their application on the
Startup India portal on a real-time basis
xi. Applicants who are rejected will also be notified through email
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 11 of 14
Guidelines for Startup India Seed Fund Scheme
xii. An applicant, if rejected once, may apply afresh
7.3 EAC may lay down improved guidelines for selection of startups under the
scheme from time to time
8. Guidelines for Disbursement of Seed Fund to Startups by Incubators
8.1 Seed Fund to an eligible startup by the incubator shall be disbursed as follows:
1. Up to Rs. 20 Lakhs as grant for validation of Proof of Concept, or prototype
development, or product trials. The grant shall be disbursed in milestonebased installments. These milestones can be related to development of
prototype, product testing, building a product ready for market launch, etc.
2. Up to Rs. 50 Lakhs of investment for market entry, commercialization, or
scaling up through convertible debentures or debt or debt-linked instruments
3. Seed fund shall strictly not be used by startups for creation of any facilities
and shall be utilized for the purpose it has been granted for
8.2 Not more than 20% of the total grant to an incubator shall be given as grants to
start-ups by incubator. Rate of interest (as defined under GFR) on unutilized
funds available with incubator would also be taken into account and adjusted at
the time of next release by DPIIT.
8.3 For startups being supported through convertible debentures, or debt, or debtlinked instruments, funds shall be provided at a rate of interest of not more than
prevailing repo rate. The tenure should be fixed at the time of sanctioning the
loan by the incubator, which shall be not more than 60 months (5 years). A
moratorium of up to 12 months may be provided for the startups. Because of the
early stage of the startups, this shall be unsecured and no guarantee from
promoter or third-party will be required.
8.4 The incubator shall execute a legal agreement with the selected startups before
the release of the first installment. The incubators shall ensure that the necessary
terms and conditions, including milestones, related to the Seed Fund are clearly
detailed in the agreement
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 12 of 14
Guidelines for Startup India Seed Fund Scheme
8.5 Subsequent disbursement would be linked to the achievement of previouslyspecified milestones as per agreement between the startup and incubator
8.6 Startups will receive the funds in their company bank accounts
8.7 For grants, the first installment to any selected startup shall be released not more
than 60 days from receipt of application from the startup. The startup shall submit
the interim progress update and utilisation certificate to initiate the release of
subsequent installment of grant.
8.8 Startup shall submit final report and audited utilisation certificate at the end of the
project duration. For failed ventures, the entrepreneur will share his/her learnings
and the reasons for failure in the report and submit this along with the utilisation
certificate for the fund amount
8.9 The incubator or any of its staff members shall not charge any fee in cash or in
kind from applicants or beneficiaries under the scheme for any process of
selection, disbursement, incubation, or monitoring
8.10 A grievance cell shall be set up at DPIIT for the scheme to address issues of
applicants, such as delayed evaluation of applications, delayed disbursements by
incubators, etc.
9. Accounting and Utilization of funds
9.1 The incubator shall maintain an exclusive, project-specific Trust and Retention
Account (TRA) with any nationalized bank. Funds under this scheme shall be
released into that account in milestone-based three (or) more installments.
9.2 Any net return received from beneficiary startup can be used for further funding
in startups as per guidelines of this scheme (net returns shall include principal,
interest, and profits). In case of no further funding of startups using this money
for three years, this shall be returned to DPIIT
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 13 of 14
Guidelines for Startup India Seed Fund Scheme
9.3 Each incubator shall report the funds sanctioned, received, and disbursed to
each startup for each financial year
9.4 Incubators would also submit detailed report on status of utilization of funds and
audited expenditure for each financial year
10. Indicators of Successful Implementation
10.1 The following shall be tracked and recorded by incubators for all beneficiary
startups:
1. Progress of proof of concept
2. Progress of prototype development
3. Progress of product development
4. Progress of field trials
5. Progress of market launch
6. Quantum of loan, angel or VC funding raised
7. Jobs created by startup
8. Turnover of startup
9. Any other appropriate parameter
10.2 Selected startups shall furnish details on above parameters to incubator in all
progress reports
10.3 The incubator shall provide the above information real-time to Startup India
through their online dashboards and shall present the same to EAC on a
quarterly basis
10.4 Incubator shall also report return on investment for each Startup. Appropriate
matrix may be devised for this purpose.
10.5 It is understood that every startup cannot be successful
Ministry of Commerce and Industry Department for Promotion of Industry and Internal Trade
Page 14 of 14
Guidelines for Startup India Seed Fund Scheme
11. Repeat Incubator Applicants for Seed Fund
An incubator can reapply for funds under the Scheme when it has disbursed or
committed its entire previously released grant
12. Progress Monitoring
12.1 Experts Advisory Committee (EAC) will review the progress of the scheme with
the Incubators selected under the scheme
12.2 The Incubators will provide the reports as may be directed by the EAC for
objective evaluation
12.3 In case of poor performance of any selected incubator, EAC may decide to
discontinue seed fund support to the incubator and take further action as may
be required
12.4 Appropriate legal action will be taken against the selected incubator in case it
uses the grant for purposes other than those for which it has been awarded
'''

import unicodedata
import re

def sanitize_text(text: str) -> str:
    if not isinstance(text, str):
        return ""

    # Normalize Unicode (VERY IMPORTANT)
    text = unicodedata.normalize("NFKD", text)

    # Remove Word / PDF private-use characters
    text = re.sub(r"[\uF000-\uF0FF]", "", text)

    # Replace common problematic symbols
    replacements = {
        "‚Äì": "-",
        "‚Äî": "-",
        "‚Äô": "'",
        "‚Äò": "'",
        "‚Äú": '"',
        "‚Äù": '"',
        "‚Ä¢": "-",
        "‚Ä¶": "...",
    }

    for k, v in replacements.items():
        text = text.replace(k, v)

    # FINAL safety pass: ASCII only
    text = text.encode("ascii", errors="ignore").decode()

    return text.strip()



text = sanitize_text(f'{a}+{b}')


import os
import uuid
import tiktoken
from openai import OpenAI
from pinecone import Pinecone, ServerlessSpec

# ==============================
# CONFIG
# ==============================
OPENAI_MODEL = "text-embedding-3-small"
INDEX_NAME = "text-embeddings-demo"
DIMENSION = 1536
CHUNK_SIZE = 500
CHUNK_OVERLAP = 50


openai_client = OpenAI(
  base_url="https://openrouter.ai/api/v1",
  api_key="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",)

# ==============================
# INIT CLIENTS
# ==============================
pinecone_client = Pinecone(api_key='pcsk_zeUVN_GVpLzERVbqfBt2ARjXMwq5nX2e3exSzrtv6H24CroLd8oSuBJ4Be8cgN8gffawk')

# ==============================
# CREATE / CONNECT INDEX
# ==============================
if INDEX_NAME not in pinecone_client.list_indexes().names():
    pinecone_client.create_index(
        name=INDEX_NAME,
        dimension=DIMENSION,
        metric="cosine",
        spec=ServerlessSpec(
            cloud="aws",
            region="us-east-1"
        )
    )

index = pinecone_client.Index(INDEX_NAME)

# ==============================
# TEXT CHUNKING
# ==============================
def chunk_text(text, chunk_size=CHUNK_SIZE, overlap=CHUNK_OVERLAP):
    encoder = tiktoken.get_encoding("cl100k_base")
    tokens = encoder.encode(text)

    chunks = []
    start = 0

    while start < len(tokens):
        end = start + chunk_size
        chunk_tokens = tokens[start:end]
        chunk = encoder.decode(chunk_tokens)
        chunks.append(chunk)
        start += chunk_size - overlap

    return chunks

# ==============================
# EMBEDDING GENERATION
# ==============================
def create_embeddings(chunks):
    embeddings = []
    for chunk in chunks:
        response = openai_client.embeddings.create(
            model=OPENAI_MODEL,
            input=chunk.encode("utf-8", errors="ignore").decode("utf-8")
        )
        embeddings.append(response.data[0].embedding)
    return embeddings

# ==============================
# UPSERT INTO PINECONE
# ==============================
def store_embeddings(chunks, embeddings):
    vectors = []
    for chunk, embedding in zip(chunks, embeddings):
        vectors.append({
            "id": str(uuid.uuid4()),
            "values": embedding,
            "metadata": {
                "text": chunk.encode("utf-8", errors="ignore").decode("utf-8")
            }
        })

    index.upsert(vectors=vectors)

# ==============================
# QUERY FUNCTION
# ==============================
def query_pinecone(query, top_k=3):
    query_embedding = openai_client.embeddings.create(
        model=OPENAI_MODEL,
        input=query
    ).data[0].embedding

    results = index.query(
        vector=query_embedding,
        top_k=top_k,
        include_metadata=True
    )

    return results

# ==============================
# MAIN EXECUTION
# ==============================
if __name__ == "__main__":

    raw_text = text

    print("üîπ Chunking text...")
    chunks = chunk_text(raw_text)
    print(f"Total Chunks: {len(chunks)}")

    print("üîπ Creating embeddings...")
    embeddings = create_embeddings(chunks)

    print("üîπ Storing embeddings in Pinecone...")
    store_embeddings(chunks, embeddings)

    print("‚úÖ Embeddings stored successfully!")

    print("\nüîé Querying Pinecone...")
    response = query_pinecone("How is AI used in education?")

    for match in response["matches"]:
        print("\nScore:", match["score"])
        print("Text:", match["metadata"]["text"])








